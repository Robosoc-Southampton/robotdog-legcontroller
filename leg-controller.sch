EESchema Schematic File Version 4
EELAYER 30 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 1 4
Title ""
Date ""
Rev ""
Comp ""
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Comp
L Connector_Generic:Conn_01x03 J2
U 1 1 61793AA3
P 1450 1900
F 0 "J2" H 1368 2217 50  0000 C CNN
F 1 "Conn_01x03" H 1368 2126 50  0000 C CNN
F 2 "" H 1450 1900 50  0001 C CNN
F 3 "~" H 1450 1900 50  0001 C CNN
	1    1450 1900
	-1   0    0    -1  
$EndComp
$Comp
L power:+8V #PWR02
U 1 1 61795D04
P 1800 950
F 0 "#PWR02" H 1800 800 50  0001 C CNN
F 1 "+8V" H 1815 1123 50  0000 C CNN
F 2 "" H 1800 950 50  0001 C CNN
F 3 "" H 1800 950 50  0001 C CNN
	1    1800 950 
	1    0    0    -1  
$EndComp
Wire Wire Line
	1650 1250 1800 1250
Wire Wire Line
	1800 1250 1800 1300
Wire Wire Line
	1650 1150 1800 1150
Wire Wire Line
	1800 1150 1800 1000
$Comp
L power:GNDPWR #PWR03
U 1 1 6179849D
P 1800 1350
F 0 "#PWR03" H 1800 1150 50  0001 C CNN
F 1 "GNDPWR" H 1804 1196 50  0000 C CNN
F 2 "" H 1800 1300 50  0001 C CNN
F 3 "" H 1800 1300 50  0001 C CNN
	1    1800 1350
	1    0    0    -1  
$EndComp
$Comp
L Device:Ferrite_Bead FB1
U 1 1 6179AC46
P 1750 3150
F 0 "FB1" V 1476 3150 50  0000 C CNN
F 1 "Ferrite_Bead" V 1567 3150 50  0000 C CNN
F 2 "" V 1680 3150 50  0001 C CNN
F 3 "~" H 1750 3150 50  0001 C CNN
	1    1750 3150
	0    1    1    0   
$EndComp
$Comp
L power:GNDPWR #PWR01
U 1 1 6179E286
P 1600 3300
F 0 "#PWR01" H 1600 3100 50  0001 C CNN
F 1 "GNDPWR" H 1604 3146 50  0000 C CNN
F 2 "" H 1600 3250 50  0001 C CNN
F 3 "" H 1600 3250 50  0001 C CNN
	1    1600 3300
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR05
U 1 1 6179F953
P 1900 3300
F 0 "#PWR05" H 1900 3050 50  0001 C CNN
F 1 "GND" H 1905 3127 50  0000 C CNN
F 2 "" H 1900 3300 50  0001 C CNN
F 3 "" H 1900 3300 50  0001 C CNN
	1    1900 3300
	1    0    0    -1  
$EndComp
Wire Wire Line
	1900 3150 1900 3300
Wire Wire Line
	1600 3300 1600 3150
Text GLabel 1750 1900 2    50   Input ~ 0
I2C_SCL
Text GLabel 1750 1800 2    50   Input ~ 0
I2C_SDA
Wire Wire Line
	1650 1900 1750 1900
Wire Wire Line
	1650 1800 1750 1800
Wire Wire Line
	1650 2000 1800 2000
Wire Wire Line
	1800 2000 1800 2100
$Comp
L power:GND #PWR04
U 1 1 6179673C
P 1800 2100
F 0 "#PWR04" H 1800 1850 50  0001 C CNN
F 1 "GND" H 1805 1927 50  0000 C CNN
F 2 "" H 1800 2100 50  0001 C CNN
F 3 "" H 1800 2100 50  0001 C CNN
	1    1800 2100
	1    0    0    -1  
$EndComp
$Comp
L power:+3.3V #PWR014
U 1 1 618C2D11
P 5100 1850
F 0 "#PWR014" H 5100 1700 50  0001 C CNN
F 1 "+3.3V" H 5115 2023 50  0000 C CNN
F 2 "" H 5100 1850 50  0001 C CNN
F 3 "" H 5100 1850 50  0001 C CNN
	1    5100 1850
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR015
U 1 1 618C614C
P 5300 6350
F 0 "#PWR015" H 5300 6100 50  0001 C CNN
F 1 "GND" H 5305 6177 50  0000 C CNN
F 2 "" H 5300 6350 50  0001 C CNN
F 3 "" H 5300 6350 50  0001 C CNN
	1    5300 6350
	1    0    0    -1  
$EndComp
$Comp
L power:+3.3VA #PWR016
U 1 1 618CC033
P 5600 1850
F 0 "#PWR016" H 5600 1700 50  0001 C CNN
F 1 "+3.3VA" H 5615 2023 50  0000 C CNN
F 2 "" H 5600 1850 50  0001 C CNN
F 3 "" H 5600 1850 50  0001 C CNN
	1    5600 1850
	1    0    0    -1  
$EndComp
Text GLabel 6150 3400 2    50   Input ~ 0
MOTOR_A_DISCONNECT
Text GLabel 6150 3500 2    50   Input ~ 0
MOTOR_B_DISCONNECT
Text GLabel 6150 3600 2    50   Input ~ 0
MOTOR_C_DISCONNECT
Text GLabel 6150 3700 2    50   Input ~ 0
MOTOR_A_CONTROL
Text GLabel 6150 3800 2    50   Input ~ 0
MOTOR_B_CONTROL
Text GLabel 6150 5900 2    50   Input ~ 0
MOTOR_C_CONTROL
Text GLabel 6150 2500 2    50   Input ~ 0
MOTOR_A_SENSE
Text GLabel 6150 2600 2    50   Input ~ 0
MOTOR_B_SENSE
Text GLabel 6150 2700 2    50   Input ~ 0
MOTOR_C_SENSE
$Comp
L Device:Crystal Y1
U 1 1 6190240F
P 3900 2900
F 0 "Y1" H 3900 2632 50  0000 C CNN
F 1 "12MHz" H 3900 2723 50  0000 C CNN
F 2 "" H 3900 2900 50  0001 C CNN
F 3 "~" H 3900 2900 50  0001 C CNN
	1    3900 2900
	-1   0    0    1   
$EndComp
$Comp
L Device:C C4
U 1 1 61909E78
P 3700 3200
F 0 "C4" H 3815 3246 50  0000 L CNN
F 1 "22p" H 3815 3155 50  0000 L CNN
F 2 "" H 3738 3050 50  0001 C CNN
F 3 "~" H 3700 3200 50  0001 C CNN
	1    3700 3200
	1    0    0    -1  
$EndComp
$Comp
L Device:C C5
U 1 1 6190A686
P 4100 3200
F 0 "C5" H 4215 3246 50  0000 L CNN
F 1 "22p" H 4215 3155 50  0000 L CNN
F 2 "" H 4138 3050 50  0001 C CNN
F 3 "~" H 4100 3200 50  0001 C CNN
	1    4100 3200
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR011
U 1 1 6190AB18
P 3700 3450
F 0 "#PWR011" H 3700 3200 50  0001 C CNN
F 1 "GND" H 3705 3277 50  0000 C CNN
F 2 "" H 3700 3450 50  0001 C CNN
F 3 "" H 3700 3450 50  0001 C CNN
	1    3700 3450
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR012
U 1 1 6190AF4B
P 4100 3450
F 0 "#PWR012" H 4100 3200 50  0001 C CNN
F 1 "GND" H 4105 3277 50  0000 C CNN
F 2 "" H 4100 3450 50  0001 C CNN
F 3 "" H 4100 3450 50  0001 C CNN
	1    4100 3450
	1    0    0    -1  
$EndComp
Wire Wire Line
	5300 6200 5300 6350
Wire Wire Line
	3700 3350 3700 3450
Wire Wire Line
	4100 3350 4100 3450
Wire Wire Line
	4050 2900 4100 2900
Connection ~ 4100 2900
Wire Wire Line
	4100 2900 4100 3050
Wire Wire Line
	3750 2900 3700 2900
Connection ~ 3700 2900
Wire Wire Line
	3700 2900 3700 3050
Text GLabel 6150 4400 2    50   Input ~ 0
I2C_SDA
Text GLabel 4550 2500 0    50   Input ~ 0
RESET
$Comp
L Connector_Generic:Conn_01x02 J1
U 1 1 618AFCCB
P 1450 1150
F 0 "J1" H 1368 1367 50  0000 C CNN
F 1 "Conn_01x02" H 1368 1276 50  0000 C CNN
F 2 "" H 1450 1150 50  0001 C CNN
F 3 "~" H 1450 1150 50  0001 C CNN
	1    1450 1150
	-1   0    0    -1  
$EndComp
Text GLabel 6150 3100 2    50   Input ~ 0
ROT_CLK_A
Text GLabel 6150 3200 2    50   Input ~ 0
ROT_DAT_A
Text GLabel 6150 5200 2    50   Input ~ 0
ROT_CLK_B
Text GLabel 6150 5300 2    50   Input ~ 0
ROT_DAT_B
Text GLabel 6150 4900 2    50   Input ~ 0
ROT_CLK_C
Text GLabel 6150 5000 2    50   Input ~ 0
ROT_DAT_C
$Comp
L Device:R R1
U 1 1 619845E3
P 5350 2000
F 0 "R1" V 5143 2000 50  0000 C CNN
F 1 "0" V 5234 2000 50  0000 C CNN
F 2 "" V 5280 2000 50  0001 C CNN
F 3 "~" H 5350 2000 50  0001 C CNN
	1    5350 2000
	0    1    1    0   
$EndComp
Wire Wire Line
	5100 1850 5100 2000
Wire Wire Line
	5100 2000 5200 2000
Wire Wire Line
	5100 2000 5100 2100
Wire Wire Line
	5100 2100 5300 2100
Wire Wire Line
	5300 2100 5300 2200
Connection ~ 5100 2000
Wire Wire Line
	5400 2200 5400 2100
Wire Wire Line
	5400 2100 5600 2100
Wire Wire Line
	5600 2100 5600 2000
Wire Wire Line
	5500 2000 5600 2000
Connection ~ 5600 2000
Wire Wire Line
	5600 2000 5600 1850
$Sheet
S 9250 2250 1100 950 
U 619DAA4C
F0 "Motor A" 50
F1 "motor-connections.sch" 50
F2 "ROT_CLK" I L 9250 2900 50 
F3 "ROT_DAT" I L 9250 3050 50 
F4 "MOTOR_CONTROL" I L 9250 2400 50 
F5 "MOTOR_DISCONNECT" I L 9250 2550 50 
F6 "MOTOR_SENSE" I L 9250 2700 50 
$EndSheet
$Comp
L Device:C C1
U 1 1 61C3EE73
P 1950 1150
F 0 "C1" H 2065 1196 50  0000 L CNN
F 1 "470u" H 2065 1105 50  0000 L CNN
F 2 "" H 1988 1000 50  0001 C CNN
F 3 "~" H 1950 1150 50  0001 C CNN
	1    1950 1150
	1    0    0    -1  
$EndComp
Wire Wire Line
	1950 1000 1800 1000
Connection ~ 1800 1000
Wire Wire Line
	1800 1000 1800 950 
Wire Wire Line
	1950 1300 1800 1300
Connection ~ 1800 1300
Wire Wire Line
	1800 1300 1800 1350
$Comp
L MCU_Microchip_ATmega:ATmega644P-20AU U2
U 1 1 61882654
P 5300 4200
F 0 "U2" H 4700 4250 50  0000 C CNN
F 1 "ATmega644P-20AU" H 4400 4150 50  0000 C CNN
F 2 "Package_QFP:TQFP-44_10x10mm_P0.8mm" H 5300 4200 50  0001 C CIN
F 3 "http://ww1.microchip.com/downloads/en/DeviceDoc/Atmel-42744-ATmega644P_Datasheet.pdf" H 5300 4200 50  0001 C CNN
	1    5300 4200
	1    0    0    -1  
$EndComp
$Comp
L Device:C C6
U 1 1 618D3981
P 4500 3350
F 0 "C6" H 4615 3396 50  0000 L CNN
F 1 "100n" H 4615 3305 50  0000 L CNN
F 2 "" H 4538 3200 50  0001 C CNN
F 3 "~" H 4500 3350 50  0001 C CNN
	1    4500 3350
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR013
U 1 1 618D46A9
P 4500 3550
F 0 "#PWR013" H 4500 3300 50  0001 C CNN
F 1 "GND" H 4505 3377 50  0000 C CNN
F 2 "" H 4500 3550 50  0001 C CNN
F 3 "" H 4500 3550 50  0001 C CNN
	1    4500 3550
	1    0    0    -1  
$EndComp
Wire Wire Line
	4500 3100 4700 3100
Wire Wire Line
	4500 3550 4500 3500
Wire Wire Line
	4500 3100 4500 3200
Wire Wire Line
	4700 2900 4100 2900
Wire Wire Line
	3700 2700 4700 2700
Wire Wire Line
	3700 2700 3700 2900
Wire Wire Line
	4550 2500 4700 2500
Wire Wire Line
	6150 3700 5900 3700
Wire Wire Line
	5900 3800 6150 3800
Wire Wire Line
	6150 5900 5900 5900
Text GLabel 6150 3900 2    50   Input ~ 0
SPI_MOSI
Text GLabel 6150 4000 2    50   Input ~ 0
SPI_MISO
Text GLabel 6150 4100 2    50   Input ~ 0
SPI_SCK
Wire Wire Line
	6150 4100 5900 4100
Wire Wire Line
	5900 4000 6150 4000
Wire Wire Line
	6150 3900 5900 3900
Wire Wire Line
	5900 3100 6150 3100
Wire Wire Line
	6150 3200 5900 3200
Wire Wire Line
	6150 4900 5900 4900
Wire Wire Line
	6150 5000 5900 5000
Wire Wire Line
	5900 4300 6150 4300
Wire Wire Line
	5900 4400 6150 4400
$Comp
L Regulator_Linear:LD1117S33TR_SOT223 U1
U 1 1 6192A45D
P 3300 1350
F 0 "U1" H 3300 1592 50  0000 C CNN
F 1 "LD1117S33TR_SOT223" H 3300 1501 50  0000 C CNN
F 2 "Package_TO_SOT_SMD:SOT-223-3_TabPin2" H 3300 1550 50  0001 C CNN
F 3 "http://www.st.com/st-web-ui/static/active/en/resource/technical/document/datasheet/CD00000544.pdf" H 3400 1100 50  0001 C CNN
	1    3300 1350
	1    0    0    -1  
$EndComp
$Comp
L Device:CP C2
U 1 1 619318B9
P 2700 1650
F 0 "C2" H 2818 1696 50  0000 L CNN
F 1 "CP" H 2818 1605 50  0000 L CNN
F 2 "" H 2738 1500 50  0001 C CNN
F 3 "~" H 2700 1650 50  0001 C CNN
	1    2700 1650
	1    0    0    -1  
$EndComp
$Comp
L Device:CP C3
U 1 1 61932BEC
P 3900 1650
F 0 "C3" H 4018 1696 50  0000 L CNN
F 1 "CP" H 4018 1605 50  0000 L CNN
F 2 "" H 3938 1500 50  0001 C CNN
F 3 "~" H 3900 1650 50  0001 C CNN
	1    3900 1650
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR08
U 1 1 6193472D
P 3300 1950
F 0 "#PWR08" H 3300 1700 50  0001 C CNN
F 1 "GND" H 3305 1777 50  0000 C CNN
F 2 "" H 3300 1950 50  0001 C CNN
F 3 "" H 3300 1950 50  0001 C CNN
	1    3300 1950
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR07
U 1 1 61935C19
P 2700 1950
F 0 "#PWR07" H 2700 1700 50  0001 C CNN
F 1 "GND" H 2705 1777 50  0000 C CNN
F 2 "" H 2700 1950 50  0001 C CNN
F 3 "" H 2700 1950 50  0001 C CNN
	1    2700 1950
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR010
U 1 1 61935FF9
P 3900 1950
F 0 "#PWR010" H 3900 1700 50  0001 C CNN
F 1 "GND" H 3905 1777 50  0000 C CNN
F 2 "" H 3900 1950 50  0001 C CNN
F 3 "" H 3900 1950 50  0001 C CNN
	1    3900 1950
	1    0    0    -1  
$EndComp
Wire Wire Line
	3900 1800 3900 1950
Wire Wire Line
	3300 1950 3300 1650
Wire Wire Line
	2700 1800 2700 1950
Wire Wire Line
	2700 1500 2700 1350
Wire Wire Line
	3900 1350 3900 1500
$Comp
L power:+8V #PWR06
U 1 1 6193FA4F
P 2700 1150
F 0 "#PWR06" H 2700 1000 50  0001 C CNN
F 1 "+8V" H 2715 1323 50  0000 C CNN
F 2 "" H 2700 1150 50  0001 C CNN
F 3 "" H 2700 1150 50  0001 C CNN
	1    2700 1150
	1    0    0    -1  
$EndComp
$Comp
L power:+3.3V #PWR09
U 1 1 6194520B
P 3900 1150
F 0 "#PWR09" H 3900 1000 50  0001 C CNN
F 1 "+3.3V" H 3915 1323 50  0000 C CNN
F 2 "" H 3900 1150 50  0001 C CNN
F 3 "" H 3900 1150 50  0001 C CNN
	1    3900 1150
	1    0    0    -1  
$EndComp
Wire Wire Line
	3900 1150 3900 1350
Connection ~ 3900 1350
Wire Wire Line
	2700 1150 2700 1350
Connection ~ 2700 1350
Wire Wire Line
	3600 1350 3900 1350
Wire Wire Line
	2700 1350 3000 1350
Wire Wire Line
	6150 5200 5900 5200
Wire Wire Line
	5900 5300 6150 5300
Wire Wire Line
	6150 2700 5900 2700
Wire Wire Line
	5900 2600 6150 2600
Wire Wire Line
	6150 2500 5900 2500
Text GLabel 6150 4300 2    50   Input ~ 0
I2C_SCL
Wire Wire Line
	6150 3400 5900 3400
Wire Wire Line
	5900 3500 6150 3500
Wire Wire Line
	6150 3600 5900 3600
$Sheet
S 9250 3400 1100 950 
U 618F2956
F0 "Motor B" 50
F1 "motor-connections.sch" 50
F2 "ROT_CLK" I L 9250 4050 50 
F3 "ROT_DAT" I L 9250 4200 50 
F4 "MOTOR_CONTROL" I L 9250 3550 50 
F5 "MOTOR_DISCONNECT" I L 9250 3700 50 
F6 "MOTOR_SENSE" I L 9250 3850 50 
$EndSheet
$Sheet
S 9250 4550 1100 950 
U 618F4190
F0 "Motor C" 50
F1 "motor-connections.sch" 50
F2 "ROT_CLK" I L 9250 5200 50 
F3 "ROT_DAT" I L 9250 5350 50 
F4 "MOTOR_CONTROL" I L 9250 4700 50 
F5 "MOTOR_DISCONNECT" I L 9250 4850 50 
F6 "MOTOR_SENSE" I L 9250 5000 50 
$EndSheet
Text Notes 10400 2800 0    50   ~ 0
(Master copy)
Wire Wire Line
	9250 2400 9150 2400
Wire Wire Line
	9250 2550 9150 2550
Wire Wire Line
	9250 2700 9150 2700
Wire Wire Line
	9250 2900 9150 2900
Wire Wire Line
	9250 3050 9150 3050
Wire Wire Line
	9250 3550 9150 3550
Wire Wire Line
	9250 3700 9150 3700
Wire Wire Line
	9250 3850 9150 3850
Wire Wire Line
	9250 4050 9150 4050
Wire Wire Line
	9250 4200 9150 4200
Wire Wire Line
	9250 4700 9150 4700
Wire Wire Line
	9250 4850 9150 4850
Wire Wire Line
	9250 5000 9150 5000
Wire Wire Line
	9250 5200 9150 5200
Wire Wire Line
	9250 5350 9150 5350
Text GLabel 9150 2400 0    50   Input ~ 0
MOTOR_A_CONTROL
Text GLabel 9150 2550 0    50   Input ~ 0
MOTOR_A_DISCONNECT
Text GLabel 9150 2700 0    50   Input ~ 0
MOTOR_A_SENSE
Text GLabel 9150 2900 0    50   Input ~ 0
ROT_CLK_A
Text GLabel 9150 3050 0    50   Input ~ 0
ROT_DAT_A
Text GLabel 9150 3550 0    50   Input ~ 0
MOTOR_B_CONTROL
Text GLabel 9150 3700 0    50   Input ~ 0
MOTOR_B_DISCONNECT
Text GLabel 9150 3850 0    50   Input ~ 0
MOTOR_B_SENSE
Text GLabel 9150 4050 0    50   Input ~ 0
ROT_CLK_B
Text GLabel 9150 4200 0    50   Input ~ 0
ROT_CLK_DAT
Text GLabel 9150 4700 0    50   Input ~ 0
MOTOR_C_CONTROL
Text GLabel 9150 4850 0    50   Input ~ 0
MOTOR_C_DISCONNECT
Text GLabel 9150 5000 0    50   Input ~ 0
MOTOR_C_SENSE
Text GLabel 9150 5200 0    50   Input ~ 0
ROT_CLK_C
Text GLabel 9150 5350 0    50   Input ~ 0
ROT_DAT_C
$Comp
L Device:C C?
U 1 1 61A65019
P 4850 2100
F 0 "C?" V 4600 2050 50  0000 L CNN
F 1 "100n" V 4700 2000 50  0000 L CNN
F 2 "" H 4888 1950 50  0001 C CNN
F 3 "~" H 4850 2100 50  0001 C CNN
	1    4850 2100
	0    1    1    0   
$EndComp
$Comp
L Device:C C?
U 1 1 61A65CE8
P 5850 2100
F 0 "C?" V 5600 2100 50  0000 L CNN
F 1 "100n" V 5700 2050 50  0000 L CNN
F 2 "" H 5888 1950 50  0001 C CNN
F 3 "~" H 5850 2100 50  0001 C CNN
	1    5850 2100
	0    1    1    0   
$EndComp
$Comp
L power:GND #PWR?
U 1 1 61A66894
P 4600 2200
F 0 "#PWR?" H 4600 1950 50  0001 C CNN
F 1 "GND" H 4605 2027 50  0000 C CNN
F 2 "" H 4600 2200 50  0001 C CNN
F 3 "" H 4600 2200 50  0001 C CNN
	1    4600 2200
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR?
U 1 1 61A6711D
P 6100 2200
F 0 "#PWR?" H 6100 1950 50  0001 C CNN
F 1 "GND" H 6105 2027 50  0000 C CNN
F 2 "" H 6100 2200 50  0001 C CNN
F 3 "" H 6100 2200 50  0001 C CNN
	1    6100 2200
	1    0    0    -1  
$EndComp
Wire Wire Line
	4700 2100 4600 2100
Wire Wire Line
	4600 2100 4600 2200
Wire Wire Line
	5000 2100 5100 2100
Connection ~ 5100 2100
Wire Wire Line
	5600 2100 5700 2100
Connection ~ 5600 2100
Wire Wire Line
	6000 2100 6100 2100
Wire Wire Line
	6100 2100 6100 2200
$EndSCHEMATC
